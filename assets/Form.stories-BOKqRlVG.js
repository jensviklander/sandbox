import{j as s}from"./jsx-runtime-DEdD30eg.js";import{r as x}from"./index-RYns6xqu.js";import{I as P}from"./InputGroup-CoLujb-I.js";import{C as V}from"./CheckboxGroup-DMgyGrvu.js";import{B as W}from"./Button-D6nhreQt.js";import{v as k}from"./v4-CQkTLCs1.js";import"./Label-DdGI5c9p.js";import"./Input-BIEKA_Kb.js";import"./Checkbox-DcktYnRf.js";const N="_formContainer_9mgml_1",L="_buttonWrapper_9mgml_8",w={formContainer:N,buttonWrapper:L},S=({fields:t,onSubmit:o,buttonText:n})=>{const a=t.reduce((e,r)=>(e[r.name]=r.defaultValue||(r.type==="checkbox"?!1:""),e),{}),[i,O]=x.useState(a),[y,m]=x.useState({}),[_,E]=x.useState({}),f=(e,r)=>{O(l=>({...l,[e]:r})),_[e]&&u(e,r)},p=e=>{E(r=>({...r,[e]:!0})),u(e,i[e])},u=(e,r)=>{const l=t.find(d=>d.name===e);l!=null&&l.required&&!r?m(d=>({...d,[e]:`${l.label} is required`})):m(d=>{const{[e]:J,...B}=d;return B})},g=()=>{const e={};return t.forEach(r=>{r.required&&!i[r.name]&&(e[r.name]=`${r.label} is required`)}),m(e),Object.keys(e).length===0},c=e=>{e.preventDefault(),g()&&o(i)};return s.jsxs("form",{onSubmit:c,className:w.formContainer,children:[t.map(e=>e.type==="checkbox"?s.jsx("div",{children:s.jsx(V,{id:e.name,labelText:e.label,checked:i[e.name],onChange:r=>f(e.name,r),onBlur:()=>p(e.name),required:e.required,error:y[e.name]})},e.name):s.jsx("div",{children:s.jsx(P,{id:e.name,labelText:e.label,type:e.type,placeholder:e.placeholder,onChange:r=>f(e.name,r),onBlur:()=>p(e.name),required:e.required,error:y[e.name]})},e.name)),s.jsx("div",{className:w.buttonWrapper,children:s.jsx(W,{id:"submit-button",type:"submit",ariaLabel:"Submit form",children:n})})]})};S.__docgenInfo={description:"",methods:[],displayName:"Form"};const{addons:K}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:U}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:j}=__STORYBOOK_MODULE_GLOBAL__;var Y="storybook/actions",M=`${Y}/action-event`,$={depth:10,clearOnStoryChange:!0,limit:50},I=(t,o)=>{let n=Object.getPrototypeOf(t);return!n||o(n)?n:I(n,o)},z=t=>!!(typeof t=="object"&&t&&I(t,o=>/^Synthetic(?:Base)?Event$/.test(o.constructor.name))&&typeof t.persist=="function"),G=t=>{if(z(t)){let o=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));o.persist();let n=Object.getOwnPropertyDescriptor(o,"view"),a=n==null?void 0:n.value;return typeof a=="object"&&(a==null?void 0:a.constructor.name)==="Window"&&Object.defineProperty(o,"view",{...n,value:Object.create(a.constructor.prototype)}),o}return t},H=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?k():Date.now().toString(36)+Math.random().toString(36).substring(2);function C(t,o={}){let n={...$,...o},a=function(...i){var p,u;if(o.implicit){let g=(p="__STORYBOOK_PREVIEW__"in j?j.__STORYBOOK_PREVIEW__:void 0)==null?void 0:p.storyRenders.find(c=>c.phase==="playing"||c.phase==="rendering");if(g){let c=!((u=window==null?void 0:window.FEATURES)!=null&&u.disallowImplicitActionsInRenderV8),e=new U({phase:g.phase,name:t,deprecated:c});if(c)console.warn(e);else throw e}}let O=K.getChannel(),y=H(),m=5,_=i.map(G),E=i.length>1?_:_[0],f={id:y,count:0,data:{name:t,args:E},options:{...n,maxDepth:m+(n.depth||3),allowFunction:n.allowFunction||!1}};O.emit(M,f)};return a.isAction=!0,a.implicit=o.implicit,a}const se={title:"Organisms/Form",component:S,parameters:{docs:{description:{component:"The Form component allows for a dynamic and reusable form structure that supports various input types like text, email, password, and checkbox. It validates required fields and handles form submissions."}}},argTypes:{buttonText:{control:"text",description:"Text to be displayed on the submit button"},fields:{control:"object",description:"Array of field objects defining the form fields and their properties"},onSubmit:{action:"submitted",description:"Callback function to handle form submission"}}},A=t=>s.jsx(S,{...t}),b=A.bind({});b.args={buttonText:"Submit",fields:[{name:"username",label:"Username",type:"text",placeholder:"Enter your username",required:!0},{name:"email",label:"Email",type:"email",placeholder:"Enter your email",required:!0},{name:"password",label:"Password",type:"password",placeholder:"Enter your password",required:!0},{name:"acceptTerms",label:"Accept Terms and Conditions",type:"checkbox",required:!0,defaultValue:!1}],onSubmit:C("Form Submitted")};const h=A.bind({});h.args={buttonText:"Register",fields:[{name:"fullName",label:"Full Name",type:"text",placeholder:"Enter your full name",required:!1},{name:"email",label:"Email",type:"email",placeholder:"Enter your email",required:!0},{name:"password",label:"Password",type:"password",placeholder:"Enter a password",required:!0},{name:"newsletter",label:"Subscribe to Newsletter",type:"checkbox",defaultValue:!0}],onSubmit:C("Form Submitted with Optional Fields")};var R,T,v;b.parameters={...b.parameters,docs:{...(R=b.parameters)==null?void 0:R.docs,source:{originalSource:"args => <Form {...args} />",...(v=(T=b.parameters)==null?void 0:T.docs)==null?void 0:v.source}}};var F,D,q;h.parameters={...h.parameters,docs:{...(F=h.parameters)==null?void 0:F.docs,source:{originalSource:"args => <Form {...args} />",...(q=(D=h.parameters)==null?void 0:D.docs)==null?void 0:q.source}}};const ie=["Default","WithOptionalFields"];export{b as Default,h as WithOptionalFields,ie as __namedExportsOrder,se as default};
