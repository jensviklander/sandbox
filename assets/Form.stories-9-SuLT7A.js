import{j as s}from"./jsx-runtime-DEdD30eg.js";import{r as S}from"./index-RYns6xqu.js";import{I as N}from"./InputGroup-CoLujb-I.js";import{C as G}from"./CheckboxGroup-DMgyGrvu.js";import{R as L}from"./RadioGroup-Bo0IJx4V.js";import{B as U}from"./Button-D6nhreQt.js";import{v as K}from"./v4-CQkTLCs1.js";import"./Label-DdGI5c9p.js";import"./Input-BIEKA_Kb.js";import"./Checkbox-DcktYnRf.js";import"./Radio-CyS-B15r.js";const M="_formContainer_9mgml_1",Y="_buttonWrapper_9mgml_8",j={formContainer:M,buttonWrapper:Y},w=({fields:r,onSubmit:o,buttonText:a})=>{const n=r.reduce((e,t)=>(e[t.name]=t.defaultValue||(t.type==="checkbox"?!1:""),e),{}),[i,x]=S.useState(n),[u,p]=S.useState({}),[E,f]=S.useState({}),d=(e,t)=>{x(c=>({...c,[e]:t})),E[e]&&b(e,t)},m=e=>{f(t=>({...t,[e]:!0})),b(e,i[e])},b=(e,t)=>{const c=r.find(h=>h.name===e);c!=null&&c.required&&!t?p(h=>({...h,[e]:`${c.label} is required`})):p(h=>{const{[e]:re,...k}=h;return k})},O=()=>{const e={};return r.forEach(t=>{t.required&&!i[t.name]&&(e[t.name]=`${t.label} is required`)}),p(e),Object.keys(e).length===0},l=e=>{e.preventDefault(),O()&&o(i)};return s.jsxs("form",{onSubmit:l,className:j.formContainer,children:[r.map(e=>{if(e.type==="checkbox")return s.jsx("div",{children:s.jsx(G,{id:e.name,labelText:e.label,checked:i[e.name],onChange:t=>d(e.name,t),onBlur:()=>m(e.name),required:e.required,error:u[e.name]})},e.name);if(e.type==="radio"&&e.options)return s.jsx("div",{children:s.jsx(L,{id:e.name,labelText:e.label,options:e.options,selectedValue:i[e.name],onChange:t=>d(e.name,t),onBlur:()=>m(e.name),required:e.required,error:u[e.name]})},e.name);if(["text","email","password"].includes(e.type))return s.jsx("div",{children:s.jsx(N,{id:e.name,labelText:e.label,type:e.type,placeholder:e.placeholder,onChange:t=>d(e.name,t),onBlur:()=>m(e.name),required:e.required,error:u[e.name]})},e.name)}),s.jsx("div",{className:j.buttonWrapper,children:s.jsx(U,{id:"submit-button",type:"submit",ariaLabel:"Submit form",children:a})})]})};w.__docgenInfo={description:"",methods:[],displayName:"Form"};const{addons:$}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:z}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:q}=__STORYBOOK_MODULE_GLOBAL__;var H="storybook/actions",J=`${H}/action-event`,Q={depth:10,clearOnStoryChange:!0,limit:50},W=(r,o)=>{let a=Object.getPrototypeOf(r);return!a||o(a)?a:W(a,o)},X=r=>!!(typeof r=="object"&&r&&W(r,o=>/^Synthetic(?:Base)?Event$/.test(o.constructor.name))&&typeof r.persist=="function"),Z=r=>{if(X(r)){let o=Object.create(r.constructor.prototype,Object.getOwnPropertyDescriptors(r));o.persist();let a=Object.getOwnPropertyDescriptor(o,"view"),n=a==null?void 0:a.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(o,"view",{...a,value:Object.create(n.constructor.prototype)}),o}return r},ee=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?K():Date.now().toString(36)+Math.random().toString(36).substring(2);function R(r,o={}){let a={...Q,...o},n=function(...i){var m,b;if(o.implicit){let O=(m="__STORYBOOK_PREVIEW__"in q?q.__STORYBOOK_PREVIEW__:void 0)==null?void 0:m.storyRenders.find(l=>l.phase==="playing"||l.phase==="rendering");if(O){let l=!((b=window==null?void 0:window.FEATURES)!=null&&b.disallowImplicitActionsInRenderV8),e=new z({phase:O.phase,name:r,deprecated:l});if(l)console.warn(e);else throw e}}let x=$.getChannel(),u=ee(),p=5,E=i.map(Z),f=i.length>1?E:E[0],d={id:u,count:0,data:{name:r,args:f},options:{...a,maxDepth:p+(a.depth||3),allowFunction:a.allowFunction||!1}};x.emit(J,d)};return n.isAction=!0,n.implicit=o.implicit,n}const de={title:"Organisms/Form",component:w,parameters:{docs:{description:{component:"The Form component allows for a dynamic and reusable form structure that supports various input types like text, email, password, checkbox, and radio. It validates required fields and handles form submissions."}}},argTypes:{buttonText:{control:"text",description:"Text to be displayed on the submit button"},fields:{control:"object",description:"Array of field objects defining the form fields and their properties"},onSubmit:{action:"submitted",description:"Callback function to handle form submission"}}},T=r=>s.jsx(w,{...r}),y=T.bind({});y.args={buttonText:"Submit",fields:[{name:"username",label:"Username",type:"text",placeholder:"Enter your username",required:!0},{name:"email",label:"Email",type:"email",placeholder:"Enter your email",required:!0},{name:"password",label:"Password",type:"password",placeholder:"Enter your password",required:!0},{name:"acceptTerms",label:"Accept Terms and Conditions",type:"checkbox",required:!0,defaultValue:!1}],onSubmit:R("Form Submitted")};const g=T.bind({});g.args={buttonText:"Register",fields:[{name:"fullName",label:"Full Name",type:"text",placeholder:"Enter your full name",required:!1},{name:"email",label:"Email",type:"email",placeholder:"Enter your email",required:!0},{name:"password",label:"Password",type:"password",placeholder:"Enter a password",required:!0},{name:"newsletter",label:"Subscribe to Newsletter",type:"checkbox",defaultValue:!0}],onSubmit:R("Form Submitted with Optional Fields")};const _=T.bind({});_.args={buttonText:"Submit",fields:[{name:"username",label:"Username",type:"text",placeholder:"Enter your username",required:!0},{name:"gender",label:"Gender",type:"radio",required:!0,options:[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}]},{name:"email",label:"Email",type:"email",placeholder:"Enter your email",required:!0},{name:"password",label:"Password",type:"password",placeholder:"Enter your password",required:!0},{name:"acceptTerms",label:"Accept Terms and Conditions",type:"checkbox",required:!0,defaultValue:!1}],onSubmit:R("Form Submitted with Radio Group")};var v,F,D;y.parameters={...y.parameters,docs:{...(v=y.parameters)==null?void 0:v.docs,source:{originalSource:"args => <Form {...args} />",...(D=(F=y.parameters)==null?void 0:F.docs)==null?void 0:D.source}}};var C,I,A;g.parameters={...g.parameters,docs:{...(C=g.parameters)==null?void 0:C.docs,source:{originalSource:"args => <Form {...args} />",...(A=(I=g.parameters)==null?void 0:I.docs)==null?void 0:A.source}}};var B,P,V;_.parameters={..._.parameters,docs:{...(B=_.parameters)==null?void 0:B.docs,source:{originalSource:"args => <Form {...args} />",...(V=(P=_.parameters)==null?void 0:P.docs)==null?void 0:V.source}}};const be=["Default","WithOptionalFields","WithRadioGroup"];export{y as Default,g as WithOptionalFields,_ as WithRadioGroup,be as __namedExportsOrder,de as default};
